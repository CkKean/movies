"use strict";(self.webpackChunkmovies=self.webpackChunkmovies||[]).push([[333],{333:function(e,t,n){n.r(t),n.d(t,{default:function(){return I}});var a=n(165),r=n(861),i=n(439),s=n(791),l=n(184),o=function(e){var t=e.onClick,n=e.type,a=void 0===n?"primary":n,r=e.children,i=e.style,s=e.disabled,o=void 0!==s&&s;return(0,l.jsx)("button",{disabled:o,style:i,className:"btn-".concat(a),onClick:t,children:r})},c=function(e){var t=e.title,n=e.type,a=void 0===n?"alert":n,r=e.show,i=e.onClose;return(0,s.useEffect)((function(){if(r){var e=setTimeout(i,3e3);return function(){return clearTimeout(e)}}}),[r,i]),r?(0,l.jsx)("div",{className:"message ".concat(a),children:t}):null},u="https://image.tmdb.org/t/p/original",d=function(){return(0,l.jsxs)("div",{className:"skeleton-container",children:[(0,l.jsx)("div",{className:"skeleton-line"}),(0,l.jsx)("div",{className:"skeleton-line"}),(0,l.jsx)("div",{className:"skeleton-line"}),(0,l.jsx)("div",{className:"skeleton-line"})]})},v=n(763),h=n.n(v),p=function(e){return h().isNull(e)||h().isUndefined(e)||""===e},m=function(e){var t=e.items;return(0,l.jsx)("table",{children:(0,l.jsx)("tbody",{children:t.length>0&&t.map((function(e){return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{style:{width:"17%",fontWeight:700},children:e.title}),(0,l.jsx)("td",{children:p(e.value)?"-":e.value})]})}))})})},g=function(e){var t=e.loading,n=e.movieDetail,a=e.show,r=e.onClose;if(!a)return null;var i;return(0,l.jsx)("div",{className:"modal modal-backdrop",children:(0,l.jsx)("div",{className:"modal-container modal-default ".concat(t?"modal-loading":""),children:t?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"modal-header",style:{marginBottom:"1rem"},children:(0,l.jsx)("div",{className:"close-icon close-icon-loading",onClick:r})}),(0,l.jsx)("div",{className:"modal-content",children:(0,l.jsx)(d,{})})]}):null!==n&&void 0!==n&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"modal-header",style:{backgroundImage:"url(".concat(u).concat(n.backdrop_path,")")},children:(0,l.jsx)("div",{className:"close-icon",onClick:r})}),(0,l.jsxs)("div",{className:"modal-content",children:[(0,l.jsx)("div",{className:"text-center ",style:{fontSize:"2rem"},children:(0,l.jsx)("b",{children:n.title})}),(0,l.jsx)(m,{items:[{title:"Overview",value:null===n||void 0===n?void 0:n.overview},{title:"Tagline",value:(null===n||void 0===n?void 0:n.tagline)||"-"},{title:"Duration",value:(i=null===n||void 0===n?void 0:n.runtime,i<60?i+"mins":Math.floor(i/60)+" hour "+i%60+" mins")},{title:"Movie Type",value:null===n||void 0===n?void 0:n.genres[0].name},{title:"Original Language",value:null===n||void 0===n?void 0:n.original_language},{title:"Spoken Language",value:null===n||void 0===n?void 0:n.spoken_languages[0].english_name},{title:"Status",value:null===n||void 0===n?void 0:n.status},{title:"Release Date",value:null===n||void 0===n?void 0:n.release_date},{title:"Above 18",value:null!==n&&void 0!==n&&n.adult?(0,l.jsx)("span",{className:"success-color",children:"\u2714"}):(0,l.jsx)("span",{className:"danger-color",children:"\u2717"})},{title:"Popularity",value:null===n||void 0===n?void 0:n.popularity},{title:"Vote Average",value:null===n||void 0===n?void 0:n.vote_average},{title:"Vote Count",value:null===n||void 0===n?void 0:n.vote_count},{title:"Website ",value:null!==n&&void 0!==n&&n.homepage?(0,l.jsx)("a",{href:null===n||void 0===n?void 0:n.homepage,target:"_blank",rel:"noreferrer",children:null===n||void 0===n?void 0:n.homepage}):"-"}]}),(0,l.jsx)("div",{className:"modal-button",children:(0,l.jsx)(o,{onClick:r,children:"Close"})})]})]})})})},f=function(e){var t=e.currentPage,n=e.itemsPerPage,a=void 0===n?20:n,r=e.totalPages,i=void 0===r?0:r,s=e.totalResults,c=void 0===s?0:s,u=e.handlePageChange,d=e.setCurrentPage;return(0,l.jsxs)("div",{className:"pagination",children:[(0,l.jsxs)("div",{className:"fw400",children:[(0,l.jsxs)("strong",{children:[1===t?1:a*(t-1)+1," -"," ",a*t]})," ","of ",(0,l.jsx)("strong",{children:c})," items"]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsxs)("span",{className:"fw400",style:{marginRight:"5px"},children:["Page ",(0,l.jsx)("strong",{children:t})," of ",(0,l.jsx)("strong",{children:i})]}),(0,l.jsx)(o,{style:{marginRight:"5px"},onClick:function(){var e=t-1;d(e),u(e)},disabled:1===t,children:"<"}),(0,l.jsx)(o,{onClick:function(){var e=t+1;d(e),u(e)},disabled:t===i,children:">"})]})]})},x=function(e){var t=e.searchTitle,n=e.setSearchTitle,a=e.onSearch,r=e.onReset,i=e.disabled,s=void 0!==i&&i;return(0,l.jsxs)("div",{style:{margin:"1rem 0"},children:[(0,l.jsx)("input",{placeholder:"Search by Movie Title",style:{display:"inline-block",width:"50%"},onChange:function(e){return n(e.target.value)},value:t}),(0,l.jsx)(o,{disabled:s,style:{margin:"0px 5px"},type:"primary",onClick:function(){return a()},children:"Search"}),(0,l.jsx)(o,{disabled:s,type:"default",onClick:r,children:"Reset"})]})},j=function(e){var t=e.items;return(0,l.jsx)("div",{className:"tab-bar",children:t.map((function(e){return(0,l.jsx)("div",{className:"tab-item ".concat(e.active?"active":""),onClick:e.onClick,children:e.title},e.title)}))})},b=function(){var e=(0,s.useState)(!1),t=(0,i.Z)(e,2),n=t[0],a=t[1],r=function(){var e=document.documentElement.scrollTop||document.body.scrollTop;a(e>300)};(0,s.useEffect)((function(){return window.addEventListener("scroll",r),function(){window.removeEventListener("scroll",r)}}),[]);return(0,l.jsx)("button",{className:"to-top-button ".concat(n?"show":""),onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,l.jsx)("path",{d:"M12 19V5M5 12l7-7 7 7"})})})},N=n(243).Z.create({headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI0MTZhMDQ3NzI0Y2EzMGE0NDIxMzM0NWFiNzZhZTNiNiIsInN1YiI6IjY0Y2I2NDJhMjk3MzM4MDIwZTU3NmYxMSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.A3_ZXNI9VVxP1BfagaoDM1bAcinbUWtZpGG7irO4N2c",Accept:"application/json","Content-Type":"application/json"}}),w=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get(t);case 3:if(200!==(n=e.sent).status){e.next=8;break}return e.abrupt("return",n.data);case 8:throw new Error("Request failed.");case 9:e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),k="https://api.themoviedb.org/3/movie",y=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.pageNumber,r=void 0===n?1:n,e.abrupt("return",w("".concat(k,"/now_playing?page=").concat(r,"&sort_by=release_date.desc")));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.pageNumber,r=void 0===n?1:n,e.abrupt("return",w("".concat(k,"/top_rated?page=").concat(r)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w("".concat(k,"/").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S={getNowPlaying:y,getTopRated:Z,getDetails:C},M=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t,n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w("".concat("https://api.themoviedb.org/3/search","/movie?query=").concat(t,"&page=").concat(n)));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),P={searchMovie:M},_="NOW_SHOWING",T="TOP_RATED",I=function(){var e=(0,s.useRef)(""),t=function(){var e=(0,s.useState)(window.innerWidth),t=(0,i.Z)(e,2),n=t[0],a=t[1];return(0,s.useEffect)((function(){var e=function(){return a(window.innerWidth)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),{isMobile:n<=767,isWeb:n>=768}}(),n=t.isMobile,v=(0,s.useState)([]),h=(0,i.Z)(v,2),m=h[0],N=h[1],w=(0,s.useState)(!0),k=(0,i.Z)(w,2),y=k[0],Z=k[1],C=(0,s.useState)(""),M=(0,i.Z)(C,2),I=M[0],R=M[1],D=(0,s.useState)(1),E=(0,i.Z)(D,2),W=E[0],z=E[1],L=(0,s.useState)(0),J=(0,i.Z)(L,2),A=J[0],O=J[1],G=(0,s.useState)(0),V=(0,i.Z)(G,2),B=V[0],F=V[1],Y=(0,s.useState)(_),U=(0,i.Z)(Y,2),Q=U[0],q=U[1],X=(0,s.useState)(!1),H=(0,i.Z)(X,2),K=H[0],$=H[1],ee=(0,s.useState)(!1),te=(0,i.Z)(ee,2),ne=te[0],ae=te[1],re=(0,s.useState)(!1),ie=(0,i.Z)(re,2),se=ie[0],le=ie[1],oe=(0,s.useState)(null),ce=(0,i.Z)(oe,2),ue=ce[0],de=ce[1],ve=(0,s.useState)(!1),he=(0,i.Z)(ve,2),pe=he[0],me=he[1],ge=(0,s.useState)(""),fe=(0,i.Z)(ge,2),xe=fe[0],je=fe[1],be=(0,s.useCallback)(function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var n,r,i,s,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.selectedCategory,r=void 0===n?Q:n,i=t.pageNumber,s=void 0===i?1:i,Z(!0),$(!1),q(r),z(s),e.prev=5,l=null,r!==_){e.next=13;break}return e.next=10,S.getNowPlaying({pageNumber:s});case 10:l=e.sent,e.next=16;break;case 13:return e.next=15,S.getTopRated({pageNumber:s});case 15:l=e.sent;case 16:l&&l.results&&(N(l.results),O(l.total_pages),F(l.total_results)),e.next=27;break;case 19:e.prev=19,e.t0=e.catch(5),je("Network issue. Please reload the page and try again."),N([]),O(0),F(0),me(!0),console.log(e.t0);case 27:Z(!1);case 28:case"end":return e.stop()}}),e,null,[[5,19]])})));return function(t){return e.apply(this,arguments)}}(),[Q]),Ne=(0,s.useCallback)((0,r.Z)((0,a.Z)().mark((function t(){var n,r,i,s=arguments;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=s.length>0&&void 0!==s[0]?s[0]:1,r=s.length>1&&void 0!==s[1]&&s[1],t.prev=2,Z(!0),$(!0),z(n),p(I)||(e.current=I),!p(I)||r){t.next=11;break}be({}),t.next=15;break;case 11:return t.next=13,P.searchMovie(e.current,n);case 13:(i=t.sent)&&i.results&&(N(i.results),O(i.total_pages),F(i.total_results));case 15:t.next=25;break;case 17:t.prev=17,t.t0=t.catch(2),je("Network issue. Please reload the page and try again."),me(!0),N([]),O(0),F(0),console.log(t.t0);case 25:Z(!1);case 26:case"end":return t.stop()}}),t,null,[[2,17]])}))),[be,I]),we=(0,s.useCallback)((function(e){K?Ne(e,W!==e):be({pageNumber:e})}),[W,be,K,Ne]),ke=(0,s.useCallback)((function(){R(""),e.current="",be({selectedCategory:_,pageNumber:1})}),[be]),ye=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ae(!0),e.prev=1,le(!0),e.next=5,S.getDetails(t);case 5:(n=e.sent)?de(n):(le(!1),me(!0),je("Retrieve movie detail failed. Please try again.")),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),le(!1),me(!0),je("Network issue. Please reload the page and try again.");case 14:ae(!1);case 15:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),Ze=(0,s.useMemo)((function(){return(0,l.jsx)(j,{items:[{active:Q===_,title:"Now Showing",onClick:function(){be({selectedCategory:_,pageNumber:1})}},{active:Q===T,title:"Top Rated",onClick:function(){be({selectedCategory:T,pageNumber:1})}}]})}),[Q,be]),Ce=(0,s.useMemo)((function(){return(0,l.jsx)("div",{style:{textAlign:"center",padding:"10px"},children:(0,l.jsx)(x,{disabled:y,onReset:ke,onSearch:Ne,searchTitle:I,setSearchTitle:R})})}),[ke,y,Ne,I]),Se=(0,s.useMemo)((function(){return(0,l.jsx)(f,{itemsPerPage:20,currentPage:W,totalPages:A,totalResults:B,setCurrentPage:z,handlePageChange:we})}),[W,we,20,A,B]),Me=(0,s.useMemo)((function(){return m.map((function(e){return(0,l.jsxs)("div",{className:"card",onClick:function(){ye(e.id)},children:[(0,l.jsx)("div",{className:"hover-text",children:(0,l.jsx)(o,{type:"default",children:"Movie Info"})}),(0,l.jsx)("div",{className:"left-column",children:(0,l.jsx)("div",{className:"image-container",style:{width:n?"100%":"150px"},children:(0,l.jsx)("img",{src:"".concat(u).concat(e.poster_path),alt:e.title,loading:"lazy"})})}),(0,l.jsxs)("div",{className:"right-column",children:[(0,l.jsx)("div",{className:"card-title",children:e.title}),(0,l.jsx)("div",{className:"card-description",children:e.overview}),(0,l.jsxs)("div",{className:"card-extra-information",children:[(0,l.jsxs)("p",{children:["Language: ",e.original_language]}),(0,l.jsxs)("p",{children:["Release Date: ",e.release_date]})]})]})]},e.id)}))}),[n,m]);return(0,s.useEffect)((function(){be({})}),[]),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"header",children:(0,l.jsx)("h1",{className:"title",children:"Movies"})}),Ze,Ce,(0,l.jsx)("div",{style:{padding:"10px",margin:"10px 10%"},children:y?(0,l.jsx)(d,{}):(0,l.jsx)(l.Fragment,{children:m&&m.length>0?(0,l.jsxs)(l.Fragment,{children:[Se,Me,Se]}):(0,l.jsxs)("div",{className:"no-data-shown",children:["No Movie Shown",""!==e.current&&' with "'.concat(e.current,'"')]})})}),(0,l.jsx)(g,{loading:ne,movieDetail:ue,show:se,onClose:function(){return le(!1)}}),(0,l.jsx)(c,{type:"error",title:xe,onClose:function(){me(!1),je("")},show:pe}),(0,l.jsx)(b,{})]})}}}]);
//# sourceMappingURL=333.a268653f.chunk.js.map